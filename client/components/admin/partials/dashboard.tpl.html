<nav class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" ng-click="userCollapsed = !userCollapsed" ng-init="userCollapsed = true" data-target="#user-menu">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><img src="/client/static/droplet.png" width="20"> <span class="hidden-xs-inline">Deluge</span></a>
    </div>

    <h3 class="navbar-center">{{ page_title || 'Admin Dashboard' }}</h3>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" collapse="userCollapsed">
        <ul class="nav navbar-nav">
            <li class="active"><a href="/admin">Admin Home</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right" style="margin-right: 10px">
            <li>
                <p class="navbar-text">chris.case@g33xnexus.com</p>
            </li>
            <li>
                <button class="btn btn-default navbar-btn" title="Admin Section"><i class="fa fa-fw fa-lg fa-gears"></i></button>
            </li>
        </ul>
    </div>
</nav>

<div class="container admin-content" ng-switch="admin_tpl != undefined">
    <div ng-switch-when="true">
        <div ng-include="admin_tpl"></div>
    </div>

    <div class="panel panel-default" ng-switch-default>
        <div class="panel-heading">
            <button class="btn btn-primary btn-sm pull-right" ng-click="setLocation('/admin/add_user')"><i class="fa fa-fw fa-plus"></i> Add User</button>
            <h3 class="panel-title"><i class="fa fa-fw fa-user"></i> Users</h3>
            <div style="clear:both"></div>
        </div>
        <div class="panel-body">
            <h4 ng-if="!users || users.length == 0" class="text-center">No Users, yet.</h4>
            <table class="table table-bordered">
                <tr ng-repeat="user in users">
                    <td>{{ user.name }}</td>
                </tr>
            </table>
            <pre ng-repeat="user in users">{{ user }}</pre>
        </div>
    </div>

    <div class="panel panel-default" ng-switch-default>
        <div class="panel-heading">
            <button class="btn btn-primary btn-sm pull-right" ng-click="setLocation('/admin/add_page')"><i class="fa fa-fw fa-plus"></i> Add Page</button>
            <h3 class="panel-title"><i class="fa fa-fw fa-file-text-o"></i> Pages</h3>
            <div style="clear:both"></div>
        </div>
        <div class="panel-body">
            <h4 ng-if="!pages || pages.length == 0" class="text-center">No Pages, yet.</h4>
            <div class="panel panel-default">
                <table class="table table-bordered table-admin">
                    <tr ng-repeat="page in pages">
                        <td>
                            {{ page.title }}
                        </td>
                        <td class="text-center" style="width: 1%" ng-switch="!!page.draft">
                            <span ng-switch-when="false" class="label label-success">Published</span>
                            <span ng-switch-when="true" class="label label-warning">Draft</span>
                        </td>
                        <td class="hidden-xs">
                            {{ page.slug }}
                        </td>
                        <td style="width: 350px">
                            <div class="btn-group btn-group-justified">
                                <a class="btn btn-primary btn-block" ng-click="setLocation('/admin/page/' + page.slug)"><i class="fa fa-fw fa-edit"></i> Edit</a>
                                <a class="btn btn-danger btn-block" ng-click="remove(page.slug)"><i class="fa fa-fw fa-trash-o"></i> Delete</a>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default" ng-switch-default>
        <div class="panel-heading">
            <button class="btn btn-primary btn-sm pull-right" ng-click="setLocation('/admin/add_article')"><i class="fa fa-fw fa-plus"></i> Add Article</button>
            <h3 class="panel-title"><i class="fa fa-fw fa-pencil-square-o"></i> Articles</h3>
            <div style="clear:both"></div>
        </div>
        <div class="panel-body">
            <h4 ng-if="!articles || articles.length == 0" class="text-center">No Articles, yet.</h4>
            <pre ng-repeat="article in articles">{{ article }}</pre>
        </div>
    </div>
</div>

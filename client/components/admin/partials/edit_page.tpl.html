<div class="container container-preview">
    <div  ng-if="page.draft" class="alert alert-warning">
        <button type="submit" class="btn btn-primary btn-sm pull-right" ng-click="publish(page)"><i class="fa fa-fw fa-upload"></i> Publish</button>
        <span class="text-middle"><strong>Draft:</strong> This page will not be publicly viewable until you publish it.</span>
        <div style="clear:both"></div>
    </div>
    <div  ng-if="!page.draft" class="alert alert-success">
        <div class="pull-right">
            <button type="submit" class="btn btn-default btn-sm" ng-click="setLocation(page.slug)"><i class="fa fa-fw fa-eye"></i> View in site</button>
            <button type="submit" class="btn btn-warning btn-sm" ng-click="unpublish(page)"><i class="fa fa-fw fa-download"></i> Unpublish</button>
        </div>
        <span class="text-middle"><strong>Published:</strong> This page has been successfully published. Any edits you make will show up on the live page once you save.</span>
        <div style="clear:both"></div>
    </div>
</div>

<div class="container container-preview">
    <div class="row">
        <div class="col-md-6 preview-include visible-sm">
            <hr class="hidden-md hidden-lg">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-fw fa-desktop"></i> Page Preview</h3>
                </div>
            </div>
            <div ng-include="page.template || '/components/pages/partials/default.html'"></div>
            <hr class="hidden-md hidden-lg">
        </div>
        <form role="form" class="col-md-6 preview-form">
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-8">
                        <label for="pageTitle">Title</label>
                        <input ng-model="page.title" type="text" class="form-control" id="pageTitle" placeholder="Enter Page Title">
                    </div>
                    <div class="col-sm-4">
                        <label for="pageSlug">Slug</label>
                        <input type="text" class="form-control" id="pageSlug" ng-model="page.slug" disabled>
                        <!--slug from="page.title" to="page.slug"></slug-->
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="pageTemplate">Template</label>
                <select ng-model="page.template" id="pageTemplate" class="form-control">
                    <option value="">default.html</option>
                </select>
            </div>
            <div class="form-group">
                <label for="pageContent">Content</label>
                <textarea ng-model="page.content" class="form-control" id="pageContent" rows="10"></textarea>
            </div>

            <hr>

            <div class="pull-left hidden-xs">
                <button type="submit" class="btn btn-danger" ng-click="remove(page.slug)" title="Delete this page completely."><i class="fa fa-fw fa-trash-o"></i> Delete</button>
            </div>
            <div class="pull-right hidden-xs">
                <div class="btn-group">
                    <button type="submit" class="btn btn-default" ng-click="save(page, 'continue')" title="Save changes, but stay on this page."><i class="fa fa-fw fa-save"></i> Save</button>
                    <button type="submit" class="btn btn-default" ng-click="save(page)" title="Save changes and go back to Admin."><i class="fa fa-fw fa-check"></i> Finish</button>
                </div>
                <button ng-if="page.draft" type="submit" class="btn btn-primary" ng-click="publish(page)" title="Save changes and make the page publicly visible."><i class="fa fa-fw fa-upload"></i> Publish</button>
                <button ng-if="page.draft == false" type="submit" class="btn btn-warning" ng-click="unpublish(page)" title="Save the page as a draft, making it no longer public."><i class="fa fa-fw fa-download"></i> Unpublish</button>
            </div>
            <div class="btn-group btn-group-justified visible-xs">
                <a type="submit" class="btn btn-danger" ng-click="remove(page.slug)" title="Delete this page completely."><i class="fa fa-fw fa-trash-o tiny-hidden"></i> Delete</a>
                <a type="submit" class="btn btn-default" ng-click="save(page, 'continue')" title="Save changes, but stay on this page."><i class="fa fa-fw fa-save tiny-hidden"></i> Save</a>
                <a type="submit" class="btn btn-default" ng-click="save(page)" title="Save changes and go back to Admin."><i class="fa fa-fw fa-check tiny-hidden"></i> Finish</a>
                <a ng-if="page.draft" type="submit" class="btn btn-primary" ng-click="publish(page)" title="Save changes and make the page publicly visible."><i class="fa fa-fw fa-upload tiny-hidden"></i> Publish</a>
                <a ng-if="page.draft == false" type="submit" class="btn btn-warning" ng-click="unpublish(page)" title="Save the page as a draft, making it no longer public."><i class="fa fa-fw fa-download tiny-hidden"></i> Unpublish</a>
            </div>
        </form>
        <div class="col-md-6 preview-include hidden-sm">
            <hr class="hidden-md hidden-lg">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-fw fa-desktop"></i> Page Preview</h3>
                </div>
            </div>
            <div ng-include="page.template || '/components/pages/partials/default.html'"></div>
            <hr class="hidden-md hidden-lg">
        </div>
    </div>
</div>
